<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#0a0a12">
<meta name="description" content="Tetris - Gerardo Manzanares">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; script-src 'self' 'unsafe-inline';">
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="icons/icon-192.png">
<title>Tetris - Gerardo Manzanares</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html, body {
    height: 100%; width: 100%;
    overflow: hidden;
    touch-action: manipulation;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  body {
    background: #0a0a12;
    color: #fff;
    font-family: 'Rajdhani', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding: env(safe-area-inset-top) 0 0 0;
  }

  body::before {
    content: '';
    position: fixed; inset: 0;
    background:
      radial-gradient(ellipse at 20% 50%, rgba(0,255,200,0.04) 0%, transparent 60%),
      radial-gradient(ellipse at 80% 20%, rgba(120,0,255,0.05) 0%, transparent 50%);
    pointer-events: none; z-index: 0;
  }

  .app {
    position: relative; z-index: 1;
    display: flex; flex-direction: column;
    align-items: center;
    width: 100%; max-width: 420px;
    height: 100vh; height: 100dvh;
    padding: 6px 8px;
    gap: 4px;
  }

  /* Header */
  .header {
    text-align: center;
    flex-shrink: 0;
  }

  .header h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.3rem; font-weight: 900;
    background: linear-gradient(135deg, #00ffc8, #7b2fff, #ff0066);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    letter-spacing: 4px;
  }

  .header .player-name {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.5rem; color: #00ffc8;
    letter-spacing: 2px; opacity: 0.7;
  }

  /* Info row */
  .info-row {
    display: flex; gap: 6px;
    justify-content: center;
    width: 100%;
    flex-shrink: 0;
  }

  .info-box {
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 8px;
    padding: 4px 10px;
    text-align: center;
    flex: 1;
  }

  .info-box.hold-used { opacity: 0.35; }

  .info-box .lbl {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.4rem; letter-spacing: 1px;
    color: rgba(255,255,255,0.3);
  }

  .info-box .val {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.9rem; font-weight: 700; color: #fff;
  }

  .info-box canvas { display: block; margin: 2px auto 0; }

  /* Board */
  .board-wrap {
    position: relative;
    flex-shrink: 0;
    background: rgba(0,0,0,0.6);
    border: 2px solid rgba(255,255,255,0.06);
    border-radius: 10px;
    padding: 4px;
    box-shadow: 0 0 30px rgba(123,47,255,0.06), inset 0 0 20px rgba(0,0,0,0.5);
  }

  #game-canvas { display: block; border-radius: 6px; }

  /* Overlays */
  .overlay {
    position: absolute; inset: 4px;
    display: flex; flex-direction: column;
    justify-content: center; align-items: center;
    background: rgba(10,10,18,0.9);
    border-radius: 8px; z-index: 10;
    backdrop-filter: blur(5px);
  }

  .overlay.hidden { display: none; }

  .overlay h2 {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.2rem; font-weight: 900;
    letter-spacing: 3px; margin-bottom: 6px;
  }

  .overlay p { color: rgba(255,255,255,0.4); font-size: 0.85rem; }

  .overlay .final-score {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.6rem; color: #00ffc8; margin: 8px 0;
  }

  .btn {
    margin-top: 12px;
    font-family: 'Orbitron', sans-serif;
    font-size: 0.65rem; letter-spacing: 2px;
    padding: 10px 28px;
    border: 1px solid #00ffc8; background: transparent;
    color: #00ffc8; border-radius: 6px;
    cursor: pointer; transition: all 0.2s;
    -webkit-tap-highlight-color: transparent;
  }

  .btn:active { background: rgba(0,255,200,0.15); }

  /* Touch controls */
  .touch-controls {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 8px;
    width: 100%;
    min-height: 0;
  }

  .touch-row {
    display: flex;
    justify-content: center;
    gap: 10px;
  }

  .tbtn {
    width: 62px; height: 54px;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.1);
    background: rgba(255,255,255,0.04);
    color: rgba(255,255,255,0.5);
    font-size: 1.3rem;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    transition: background 0.1s;
  }

  .tbtn:active {
    background: rgba(0,255,200,0.15);
    border-color: rgba(0,255,200,0.3);
  }

  .tbtn.wide { width: 138px; }
  .tbtn .sub { font-size: 0.5rem; letter-spacing: 1px; font-family: 'Orbitron',sans-serif; }

  .bottom-row {
    display: flex;
    justify-content: center;
    gap: 12px;
    flex-shrink: 0;
    padding-bottom: max(6px, env(safe-area-inset-bottom));
  }

  .small-btn {
    padding: 6px 14px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,0.08);
    background: rgba(255,255,255,0.03);
    color: rgba(255,255,255,0.35);
    font-family: 'Orbitron', sans-serif;
    font-size: 0.4rem; letter-spacing: 1px;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
  }

  .small-btn:active { background: rgba(255,255,255,0.08); }
  .small-btn.muted { opacity: 0.3; }
</style>
</head>
<body>

<div class="app">
  <div class="header">
    <h1>TETRIS</h1>
    <div class="player-name">‚ü° Gerardo Manzanares ‚ü°</div>
  </div>

  <div class="info-row">
    <div class="info-box" id="hold-box">
      <div class="lbl">CONGELAR</div>
      <canvas id="hold-canvas" width="60" height="44"></canvas>
    </div>
    <div class="info-box">
      <div class="lbl">PUNTOS</div>
      <div class="val" id="score">0</div>
    </div>
    <div class="info-box">
      <div class="lbl">NIVEL</div>
      <div class="val" id="level">1</div>
    </div>
    <div class="info-box">
      <div class="lbl">L√çNEAS</div>
      <div class="val" id="lines">0</div>
    </div>
    <div class="info-box">
      <div class="lbl">SIGUIENTE</div>
      <canvas id="next-canvas" width="60" height="44"></canvas>
    </div>
  </div>

  <div class="board-wrap" id="board-wrap">
    <canvas id="game-canvas"></canvas>

    <div class="overlay" id="start-overlay">
      <h2>TETRIS</h2>
      <p>¬°Listo para jugar!</p>
      <button class="btn" id="start-btn">INICIAR</button>
    </div>

    <div class="overlay hidden" id="gameover-overlay">
      <h2>GAME OVER</h2>
      <div class="final-score" id="final-score">0</div>
      <p>puntos</p>
      <button class="btn" id="restart-btn">REINICIAR</button>
    </div>

    <div class="overlay hidden" id="pause-overlay">
      <h2>PAUSA</h2>
      <p>Toca continuar</p>
      <button class="btn" id="resume-btn">CONTINUAR</button>
    </div>
  </div>

  <div class="touch-controls">
    <div class="touch-row">
      <div class="tbtn" id="t-rotate">‚Üª</div>
      <div class="tbtn" id="t-hold">‚ùÑ</div>
      <div class="tbtn wide" id="t-drop">‚è¨ <span class="sub">SOLTAR</span></div>
    </div>
    <div class="touch-row">
      <div class="tbtn" id="t-left">‚óÄ</div>
      <div class="tbtn" id="t-down">‚ñº</div>
      <div class="tbtn" id="t-right">‚ñ∂</div>
    </div>
  </div>

  <div class="bottom-row">
    <div class="small-btn" id="snd-btn">üîä SONIDO</div>
    <div class="small-btn" id="pause-btn">‚è∏ PAUSA</div>
  </div>
</div>

<script>
(() => {
  // ============ AUDIO ============
  let audioCtx = null, soundOn = true, musicOn = true, musicTimer = null;

  function initAudio() { if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)(); }

  function tone(freq, dur, type, vol, del) {
    if (!soundOn || !audioCtx) return;
    const t = audioCtx.currentTime + (del||0);
    const o = audioCtx.createOscillator(), g = audioCtx.createGain();
    o.type = type||'square'; o.frequency.setValueAtTime(freq, t);
    g.gain.setValueAtTime(vol||0.06, t);
    g.gain.exponentialRampToValueAtTime(0.001, t+dur);
    o.connect(g); g.connect(audioCtx.destination);
    o.start(t); o.stop(t+dur);
  }

  const sfxMove = () => tone(220,0.05,'square',0.04);
  const sfxRotate = () => tone(440,0.07,'sine',0.05);
  const sfxDrop = () => { tone(120,0.12,'triangle',0.08); tone(80,0.15,'triangle',0.06,0.04); };
  const sfxLock = () => tone(180,0.08,'square',0.04);
  const sfxHold = () => { tone(330,0.06,'sine',0.05); tone(440,0.06,'sine',0.05,0.06); };
  function sfxClear(n) { for(let i=0;i<n;i++) tone(300+i*120,0.12,'square',0.06,i*0.06); tone(300+n*150,0.25,'sine',0.08,n*0.06); }
  function sfxLevelUp() { [523,659,784,1047].forEach((f,i) => tone(f,0.12,'sine',0.05,i*0.08)); }
  function sfxGameOver() { [400,350,300,250,200].forEach((f,i) => tone(f,0.2,'sawtooth',0.05,i*0.15)); }

  const MELODY = [
    [659,0.3],[494,0.15],[523,0.15],[587,0.3],[523,0.15],[494,0.15],
    [440,0.3],[440,0.15],[523,0.15],[659,0.3],[587,0.15],[523,0.15],
    [494,0.3],[494,0.15],[523,0.15],[587,0.3],[659,0.3],
    [523,0.3],[440,0.3],[440,0.3],[0,0.15],
    [587,0.3],[698,0.15],[880,0.3],[784,0.15],[698,0.15],
    [659,0.3],[523,0.15],[659,0.3],[587,0.15],[523,0.15],
    [494,0.3],[494,0.15],[523,0.15],[587,0.3],[659,0.3],
    [523,0.3],[440,0.3],[440,0.3],[0,0.3],
  ];
  let mIdx = 0;
  function playMusic() {
    if (!musicOn || !soundOn || !audioCtx) return;
    const [f,d] = MELODY[mIdx % MELODY.length];
    if (f>0) { tone(f,d*0.8,'square',0.03); tone(f/4,d*0.85,'triangle',0.02); }
    mIdx++;
    musicTimer = setTimeout(playMusic, d*1000*(60/80));
  }
  function startMusic() { if (musicOn) { mIdx=0; playMusic(); } }
  function stopMusic() { musicOn=false; if(musicTimer){clearTimeout(musicTimer);musicTimer=null;} }
  function resumeMusic() { musicOn=true; playMusic(); }

  const sndBtn = document.getElementById('snd-btn');
  sndBtn.addEventListener('click', () => {
    initAudio(); soundOn = !soundOn;
    sndBtn.textContent = soundOn ? 'üîä SONIDO' : 'üîá MUTE';
    sndBtn.classList.toggle('muted', !soundOn);
    if (!soundOn) stopMusic();
    else if (gameStarted && !gameOver && !paused) resumeMusic();
  });

  // ============ RESPONSIVE CANVAS ============
  const canvas = document.getElementById('game-canvas');
  const ctx = canvas.getContext('2d');
  const nextCvs = document.getElementById('next-canvas');
  const nextCtx = nextCvs.getContext('2d');
  const holdCvs = document.getElementById('hold-canvas');
  const holdCtx = holdCvs.getContext('2d');

  const COLS = 10, ROWS = 20;
  let BLOCK, canvasW, canvasH;

  function resize() {
    const wrap = document.getElementById('board-wrap');
    const maxW = wrap.parentElement.clientWidth - 16;
    // Calculate available height
    const appEl = document.querySelector('.app');
    const headerH = 30 + 52 + 8 + 8; // approx header + info row + gaps
    const controlsH = 130; // approx touch controls + bottom
    const availH = appEl.clientHeight - headerH - controlsH - 20;
    const fromH = Math.floor(availH / ROWS) * COLS;
    const w = Math.min(maxW, fromH, 300);
    BLOCK = Math.floor(w / COLS);
    canvasW = BLOCK * COLS;
    canvasH = BLOCK * ROWS;
    canvas.width = canvasW;
    canvas.height = canvasH;
    canvas.style.width = canvasW + 'px';
    canvas.style.height = canvasH + 'px';
    if (board) drawBoard();
  }

  window.addEventListener('resize', resize);

  // ============ GAME ENGINE ============
  const COLORS = [null,'#00e5ff','#ffea00','#aa00ff','#00e676','#ff1744','#ff6d00','#2979ff'];
  const SHAPES = [null,
    [[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],
    [[2,2],[2,2]],
    [[0,3,0],[3,3,3],[0,0,0]],
    [[0,4,4],[4,4,0],[0,0,0]],
    [[5,5,0],[0,5,5],[0,0,0]],
    [[0,0,6],[6,6,6],[0,0,0]],
    [[7,0,0],[7,7,7],[0,0,0]],
  ];

  let board, piece, nextPiece, holdPiece, holdUsed;
  let score, level, lines, gameOver, paused, dropInterval, lastDrop, animId;
  let gameStarted = false, prevLevel = 1;

  const mkBoard = () => Array.from({length:ROWS}, () => new Array(COLS).fill(0));

  function mkPiece(id) {
    const s = SHAPES[id].map(r=>[...r]);
    return {shape:s, x:Math.floor((COLS-s[0].length)/2), y:0, id};
  }
  const randPiece = () => mkPiece(Math.floor(Math.random()*7)+1);

  function rot(s) {
    const N=s.length, r=Array.from({length:N},()=>new Array(N).fill(0));
    for(let y=0;y<N;y++) for(let x=0;x<N;x++) r[x][N-1-y]=s[y][x];
    return r;
  }

  function ok(b,s,ox,oy) {
    for(let y=0;y<s.length;y++) for(let x=0;x<s[y].length;x++){
      if(!s[y][x]) continue;
      const nx=ox+x,ny=oy+y;
      if(nx<0||nx>=COLS||ny>=ROWS) return false;
      if(ny>=0&&b[ny][nx]) return false;
    }
    return true;
  }

  function merge(b,p) {
    p.shape.forEach((r,y)=>r.forEach((v,x)=>{if(v&&p.y+y>=0) b[p.y+y][p.x+x]=v;}));
  }

  function clearLines() {
    let cl=0;
    for(let y=ROWS-1;y>=0;y--){
      if(board[y].every(c=>c!==0)){board.splice(y,1);board.unshift(new Array(COLS).fill(0));cl++;y++;}
    }
    if(cl){
      score+=[0,100,300,500,800][cl]*level; lines+=cl; prevLevel=level;
      level=Math.floor(lines/10)+1;
      dropInterval=Math.max(50,800-(level-1)*70);
      sfxClear(cl);
      if(level>prevLevel) sfxLevelUp();
      updateUI();
    }
  }

  function updateUI() {
    document.getElementById('score').textContent = score.toLocaleString();
    document.getElementById('level').textContent = level;
    document.getElementById('lines').textContent = lines;
  }

  function drawBlk(c,x,y,ci,sz) {
    if(!ci) return;
    const col=COLORS[ci],px=x*sz,py=y*sz;
    c.fillStyle=col; c.fillRect(px+1,py+1,sz-2,sz-2);
    c.fillStyle='rgba(255,255,255,0.15)'; c.fillRect(px+1,py+1,sz-2,2); c.fillRect(px+1,py+1,2,sz-2);
    c.fillStyle='rgba(0,0,0,0.2)'; c.fillRect(px+sz-3,py+1,2,sz-2); c.fillRect(px+1,py+sz-3,sz-2,2);
  }

  function drawPrev(context,cvs,p) {
    context.clearRect(0,0,cvs.width,cvs.height);
    if(!p) return;
    const s=SHAPES[p.id],bk=10;
    const ox=Math.floor((cvs.width-s[0].length*bk)/2/bk);
    const oy=Math.floor((cvs.height-s.length*bk)/2/bk);
    s.forEach((r,y)=>r.forEach((v,x)=>{if(v) drawBlk(context,ox+x,oy+y,v,bk);}));
  }

  function drawBoard() {
    ctx.fillStyle='#0d0d1a'; ctx.fillRect(0,0,canvasW,canvasH);
    ctx.strokeStyle='rgba(255,255,255,0.025)'; ctx.lineWidth=0.5;
    for(let x=0;x<=COLS;x++){ctx.beginPath();ctx.moveTo(x*BLOCK,0);ctx.lineTo(x*BLOCK,canvasH);ctx.stroke();}
    for(let y=0;y<=ROWS;y++){ctx.beginPath();ctx.moveTo(0,y*BLOCK);ctx.lineTo(canvasW,y*BLOCK);ctx.stroke();}
    board.forEach((r,y)=>r.forEach((v,x)=>drawBlk(ctx,x,y,v,BLOCK)));
    if(piece){
      // Ghost
      let gy=piece.y;
      while(ok(board,piece.shape,piece.x,gy+1)) gy++;
      if(gy!==piece.y){ctx.globalAlpha=0.12; piece.shape.forEach((r,y)=>r.forEach((v,x)=>{if(v) drawBlk(ctx,piece.x+x,gy+y,v,BLOCK);})); ctx.globalAlpha=1;}
      // Piece
      piece.shape.forEach((r,y)=>r.forEach((v,x)=>{if(v&&piece.y+y>=0) drawBlk(ctx,piece.x+x,piece.y+y,v,BLOCK);}));
    }
  }

  function spawn() {
    piece=nextPiece; nextPiece=randPiece(); holdUsed=false;
    document.getElementById('hold-box').classList.remove('hold-used');
    drawPrev(nextCtx,nextCvs,nextPiece);
    drawPrev(holdCtx,holdCvs,holdPiece);
    if(!ok(board,piece.shape,piece.x,piece.y)){
      gameOver=true; stopMusic(); sfxGameOver();
      document.getElementById('final-score').textContent=score.toLocaleString();
      document.getElementById('gameover-overlay').classList.remove('hidden');
    }
  }

  function drop() {
    if(!ok(board,piece.shape,piece.x,piece.y+1)){merge(board,piece);sfxLock();clearLines();spawn();return;}
    piece.y++;
  }

  function hardDrop() {
    while(ok(board,piece.shape,piece.x,piece.y+1)){piece.y++;score+=2;}
    updateUI(); sfxDrop(); drop();
  }

  function move(d) { if(ok(board,piece.shape,piece.x+d,piece.y)){piece.x+=d;sfxMove();} }

  function rotatePiece() {
    const r=rot(piece.shape);
    for(const k of [0,1,-1,2,-2]) if(ok(board,r,piece.x+k,piece.y)){piece.shape=r;piece.x+=k;sfxRotate();return;}
  }

  function holdAction() {
    if(holdUsed) return;
    if(!holdPiece){holdPiece={id:piece.id};piece=nextPiece;nextPiece=randPiece();drawPrev(nextCtx,nextCvs,nextPiece);}
    else{const t=piece.id;piece=mkPiece(holdPiece.id);holdPiece={id:t};}
    holdUsed=true;
    document.getElementById('hold-box').classList.add('hold-used');
    drawPrev(holdCtx,holdCvs,holdPiece);
    sfxHold();
  }

  function loop(ts) {
    animId=requestAnimationFrame(loop);
    if(gameOver||paused) return;
    if(ts-lastDrop>dropInterval){drop();lastDrop=ts;}
    drawBoard();
  }

  function startGame() {
    initAudio();
    board=mkBoard(); piece=randPiece(); nextPiece=randPiece();
    holdPiece=null; holdUsed=false;
    score=0; level=1; lines=0; prevLevel=1;
    gameOver=false; paused=false; gameStarted=true;
    dropInterval=800; lastDrop=0;
    updateUI();
    drawPrev(nextCtx,nextCvs,nextPiece);
    drawPrev(holdCtx,holdCvs,null);
    document.getElementById('hold-box').classList.remove('hold-used');
    document.getElementById('start-overlay').classList.add('hidden');
    document.getElementById('gameover-overlay').classList.add('hidden');
    document.getElementById('pause-overlay').classList.add('hidden');
    if(animId) cancelAnimationFrame(animId);
    animId=requestAnimationFrame(loop);
    if(soundOn) { musicOn=true; startMusic(); }
  }

  // ============ CONTROLS ============
  // Touch buttons
  document.getElementById('t-left').addEventListener('click',()=>{if(gameStarted&&!gameOver&&!paused) move(-1);});
  document.getElementById('t-right').addEventListener('click',()=>{if(gameStarted&&!gameOver&&!paused) move(1);});
  document.getElementById('t-down').addEventListener('click',()=>{if(gameStarted&&!gameOver&&!paused){drop();score+=1;updateUI();}});
  document.getElementById('t-rotate').addEventListener('click',()=>{if(gameStarted&&!gameOver&&!paused) rotatePiece();});
  document.getElementById('t-drop').addEventListener('click',()=>{if(gameStarted&&!gameOver&&!paused) hardDrop();});
  document.getElementById('t-hold').addEventListener('click',()=>{if(gameStarted&&!gameOver&&!paused) holdAction();});

  // Repeat on hold for movement
  ['t-left','t-right','t-down'].forEach(id => {
    const el = document.getElementById(id);
    let interval = null;
    const action = id === 't-left' ? ()=>move(-1) : id === 't-right' ? ()=>move(1) : ()=>{drop();score+=1;updateUI();};
    el.addEventListener('touchstart', e => {
      e.preventDefault();
      if(!gameStarted||gameOver||paused) return;
      action();
      interval = setInterval(action, 100);
    }, {passive:false});
    el.addEventListener('touchend', () => { if(interval){clearInterval(interval);interval=null;} });
    el.addEventListener('touchcancel', () => { if(interval){clearInterval(interval);interval=null;} });
  });

  // Pause
  document.getElementById('pause-btn').addEventListener('click', () => {
    if(!gameStarted||gameOver) return;
    paused=!paused;
    document.getElementById('pause-overlay').classList.toggle('hidden',!paused);
    if(paused) stopMusic(); else if(soundOn) resumeMusic();
  });
  document.getElementById('resume-btn').addEventListener('click', () => {
    paused=false;
    document.getElementById('pause-overlay').classList.add('hidden');
    if(soundOn) resumeMusic();
  });

  // Keyboard (for desktop too)
  document.addEventListener('keydown', e => {
    if(!gameStarted||gameOver) return;
    if(e.key==='p'||e.key==='P'){
      paused=!paused;
      document.getElementById('pause-overlay').classList.toggle('hidden',!paused);
      if(paused) stopMusic(); else if(soundOn) resumeMusic();
      return;
    }
    if(paused) return;
    switch(e.key){
      case 'ArrowLeft': move(-1); break;
      case 'ArrowRight': move(1); break;
      case 'ArrowDown': drop(); score+=1; updateUI(); break;
      case 'ArrowUp': rotatePiece(); break;
      case ' ': hardDrop(); break;
      case 'c': case 'C': holdAction(); break;
    }
    e.preventDefault();
  });

  document.getElementById('start-btn').addEventListener('click', startGame);
  document.getElementById('restart-btn').addEventListener('click', startGame);

  // ============ INIT ============
  resize();

  // Register service worker
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./sw.js').catch(() => {});
  }
})();
</script>
</body>
</html>
